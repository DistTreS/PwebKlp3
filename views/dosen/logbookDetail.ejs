<%- include("../layout/navbar.ejs", { title: "Detail Logbook" }) %>

<div class="container mx-auto mt-8">
    <h1 class="text-3xl font-bold mb-4 text-blue-500 text-center">Detail Logbook</h1>

    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">Nama Mahasiswa</label>
            <p class="text-gray-800"><%= logbook.project.student.username %></p>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">Tanggal</label>
            <p class="text-gray-800"><%= new Date(logbook.date).toLocaleDateString() %></p>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">Judul Project</label>
            <p class="text-gray-800"><%= logbook.project.title %></p>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">Judul Logbook</label>
            <p class="text-gray-800"><%= logbook.activity %></p>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">Deskripsi Logbook</label>
            <p class="text-gray-800"><%= logbook.description %></p>
        </div>

        <!-- Form untuk komentar -->
        <form action="/dosen/logbooks/<%= logbook.entry_id %>/comment" method="POST" class="mb-4">
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2">Komentar</label>
                <textarea name="comment" rows="4" class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none" required></textarea>
            </div>
            <div class="flex justify-center">
                <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">Kirim Komentar</button>
            </div>
        </form>

        <!-- Daftar Komentar -->
        <div>
            <h2 class="text-xl font-bold mb-2">Komentar</h2>
            <% comments.forEach(comment => { %>
                <div class="mb-2 p-2 border rounded-lg">
                    <p class="text-gray-800"><%= comment.content %></p>
                    <p class="text-gray-600 text-sm"><%= new Date(comment.created_at).toLocaleString() %></p>
                </div>
            <% }) %>
        </div>
    </div>
</div>
